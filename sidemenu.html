<!DOCTYPE html>
<html>
  <head>
    <link href="https://ssl.gstatic.com/docs/script/css/add-ons.css" rel="stylesheet">  
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
    
    <style>
      .branding-below {
         bottom: 56px;
         top: 0;
      }
    </style>

    <base target="_top">
    <script>
        $(function() {
           $('#add-item').click(function(e){
              var select = $("#dynamic-list");
              var candidate = $("#candidate");
              var op = $(document.createElement("option"));
              op.prop('value', candidate.val());  
              op.append(document.createTextNode(candidate.val()));
              select.append(op);              
              
              //google.script.run.insertDS(candidate.val());
              candidate.val('');
           });
           
           $('#remove').click(function(e){
             $("#dynamic-list option:selected").remove(); 
           });
           
           $('#print').click(function(e){
             var selected = $("#dynamic-list option:selected");
             if ( selected.length > 0 ){
                google.script.run.printDS();
             }
           });
        });
    </script>
  </head>
  <body>
    <div class="sidebar branding-below">

       <div classs="zenodo-settings">
          <div class="inline form-group">
             <label for="zenodo-token">Zenodo Token:</label>
             <input type="text" id="zenodo-token">
          </div>       
          <div>
            <input type="checkbox" id="enable-zenodo">
            <label for="enable-zenodo">Enable Zenodo Upload</label>
          </div>      
        </div>
      
        <span class="separator"></span>

        <div class="standards">
          <div class="block">
            <input type="text" id="candidate"/>
            <button id="add-item">Add item</button>       
          </div>
          
          <div class="block form-group">            
            <label for="standards">Data Standards:</label>
            <? var standards = getStandards(); ?>
            <? for(var i = 0; i < standards.length; i++) { ?>
              <div>
                <input type="checkbox" id="<?= i ?>">
                <label for="<?= i ?>"><?= standards[i].name ?></label>
              </div> 
            <? } ?>

            <select id="dynamic-list" size="5" style="width:100%;" multiple></select>
          </div>
          <button id="remove">Remove</button>
          <button id="print">Print</button>       
        </div>      

        <button id="save" class="action">Save</button>
      </div>
  </body>
</html>


